{"version":3,"sources":["webpack:///webpack/bootstrap 52a13f77a252da8ea0bc","webpack:///./modules/game/values.js","webpack:///./modules/objects/player.js","webpack:///./modules/objects/score.js","webpack:///./modules/game/gamestart.js","webpack:///./modules/game/gameover.js","webpack:///./modules/game/wiki.js","webpack:///./modules/objects/balloons.js","webpack:///./modules/objects/examples.js","webpack:///./modules/game/web_game.js"],"names":["player","document","getElementById","field","node","querySelector","width","clientWidth","height","clientHeight","startGameBut","wikiBut","exampleField","scoreField","patrick","backButton","level","num","operation","sign","speed","showLevel","lvl","lev","createElement","classList","add","textContent","appendChild","setTimeout","removeChild","count","colors","style","display","backgroundPosition","countField","getColor","colorIndex","Math","round","random","color","index","index1","index2","window","addEventListener","forms","marginLeft","playerCoords","pressedKeys","playerInJump","jumpHeight","jumpUp","leftBorder","startCounting","addPlayer","movePlayer","removeKey","offsetWidth","getPlayerCoords","top","offsetTop","left","offsetLeft","offsetHeight","e","key","keyCode","playerJump","moveRight","moveLeft","matrix","getComputedStyle","transform","leftMove","parseInt","split","upPos","trans","rightMove","jump","scale","indexOf","slice","leftPos","countEvent","keys","Object","i","length","event","Event","dispatchEvent","showPlayerMessage","message","counting","span","curMessage","playerMessage","innerHTML","undefined","lastChild","delPlayerMessage","mark","removeEventListener","changes","endOfGame","end","score","curScore","changeScore","change","abs","scoreLength","toString","times","max","repeat","startGame","target","remove","hidden","chooseOperation","p","insertBefore","firstChild","font","button","marginRight","dataset","createTextNode","verticalAlign","backgroundColor","contains","addSlider","go","buttons","querySelectorAll","slider","thumb","coord","ceil","getBoundingClientRect","body","backgroundImage","moveThumbByClick","cursor","bottom","fontSize","div","border","position","changeSpeed","rect","coords","pageYOffset","pageXOffset","shiftX","pageX","shiftY","pageY","parentRect","moveThumb","right","drop","parentWidth","l","coordsThumb","closest","thumbWidth","gameOver","back","backBut","restart","restartGame","image","rightArr","leftArr","page","showWiki","renderWiki","backgroundSize","cloneNode","changePage","backToStart","resizeImage","imageToResize","balloons","ballHeight","bottomBorder","down","ballOnField","on","selectedBall","mix","createBalloons","answers","n","elem","animateBalloons","addBalloons","goPx","angle","moveTo","ind","select","playerChooseBall","removeBalloons","minTop","ballColors","flag","includes","push","j","selectBalloon","stopPropagation","rect1","rect2","center1","x","y","center2","distX","distY","selectBall","checkSelection","explode","offset","explosion","exampleInField","startExample","showExample","example","sorting","a","b","generateNum","m","answer","rand","min","generator","operands","sort","floor","audio","mainFunc","main","render","levelUp","requestAnimationFrame","backFunc","loadImgAudio","sources","visibility","join","lastImg","onload","elements","mute","checked","play","pause","start"],"mappings":"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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 52a13f77a252da8ea0bc","const player = document.getElementById('player');\nconst field = { node: document.querySelector('.field') };\nfield.width = field.node.clientWidth;\nfield.height = field.node.clientHeight;\nconst startGameBut = document.querySelector('.start');\nconst wikiBut = document.querySelector('.wiki');\nconst exampleField = document.querySelector('.example');\nconst scoreField = document.querySelector('.score');\nconst patrick = document.querySelector('.patrick');\nconst backButton = document.querySelector('.back-to-operation');\n\nconst level = { num: 1 };\nconst operation = { sign: '' };\nconst speed = { speed: 1 };\n\nconst showLevel = function (lvl) {\n    const lev = document.createElement('p');\n    lev.classList.add('level', 'animated', 'flipInX');\n    lev.textContent = `LEVEL ${lvl}`;\n    field.node.appendChild(lev);\n    setTimeout(() => {\n        if (document.querySelector('.level')) {\n            field.node.removeChild(lev);\n        }\n    }, 1000);\n};\n\n\nconst count = function () {\n    const colors = ['red', 'yellow', 'green', 'orange', 'purple'];\n    exampleField.style.display = 'inline-block';\n    patrick.style.display = 'inline-block';\n    player.style.backgroundPosition = '0px 0px';\n\n    const countField = document.createElement('p');\n    countField.classList.add('count', 'animated', 'zoomIn', 'infinite');\n    field.node.appendChild(countField);\n\n    function getColor() {\n        const colorIndex = Math.round(Math.random() * 5);\n        countField.style.color = colors[colorIndex];\n    }\n\n    setTimeout((index) => {\n        getColor();\n        countField.textContent = `${index}`;\n        setTimeout((index1) => {\n            getColor();\n            countField.textContent = `${index1}`;\n            setTimeout((index2) => {\n                getColor();\n                countField.textContent = `${index2}`;\n            }, 1020, 1);\n        }, 1020, 2);\n    }, 0, 3);\n\n    setTimeout(() => {\n        field.node.removeChild(countField);\n    }, 3000);\n};\n\n\nwindow.addEventListener('resize', () => {\n    field.height = field.node.clientHeight;\n    field.width = field.node.clientWidth;\n    document.forms[0].style.marginLeft = `calc(50% + ${field.width / 2 - 60}px)`;\n});\n\nexport {\n    player,\n    field,\n    startGameBut,\n    wikiBut,\n    exampleField,\n    scoreField,\n    patrick,\n    backButton,\n    level,\n    operation,\n    speed,\n    showLevel,\n    count,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/values.js","import { field, count, player, backButton } from '../game/values';\n\nconst playerCoords = {};\nconst pressedKeys = {};\nlet playerInJump = false;\nconst jumpHeight = { height: 0 };\nlet jumpUp = true;\nlet leftBorder = null;\nlet startCounting = false;\n\nconst addPlayer = function () {\n    player.style.backgroundPosition = '0px 0px';\n    player.style.display = 'inline-block';\n    document.addEventListener('keydown', movePlayer);\n    document.addEventListener('keyup', removeKey);\n    leftBorder = field.width - player.offsetWidth;\n\n    window.addEventListener('resize', () => {\n        leftBorder = field.width - player.offsetWidth;\n    });\n    getPlayerCoords();\n};\n\nconst getPlayerCoords = function () {\n    playerCoords.top = player.offsetTop;\n    playerCoords.left = player.offsetLeft;\n    playerCoords.height = player.offsetHeight;\n    playerCoords.width = player.offsetWidth;\n};\n\nconst movePlayer = function (e) {\n    const key = e.keyCode;\n\n    if (key !== 39 && key !== 68 && key !== 37 &&\n            key !== 65 && key !== 38 && key !== 87) {\n        return;\n    }\n\n    if (!pressedKeys[key]) {\n        pressedKeys[key] = true;\n    }\n\n    if (key === 38 || key === 87 || (pressedKeys['38'] || pressedKeys['87'])) {\n        if (!playerInJump) {\n            playerInJump = true;\n            playerJump();\n        }\n    } else\n    if ((key === 39 || key === 68) &&\n            !(pressedKeys['37'] || pressedKeys['65'])) {\n        moveRight();\n    } else\n    if ((key === 37 || key === 65) &&\n            !(pressedKeys['39'] || pressedKeys['68'])) {\n        moveLeft();\n    }\n};\n\nconst removeKey = function (e) {\n    if (e.keyCode in pressedKeys) {\n        delete pressedKeys[e.keyCode];\n        player.style.backgroundPosition = '0px 0px';\n    }\n};\n\nconst moveRight = function () {\n    const matrix = getComputedStyle(player).transform;\n    const leftMove = parseInt(matrix.split(',')[4], 10) + 5;\n    const upPos = parseInt(matrix.split(',')[5], 10);\n    if (playerCoords.left <= leftBorder) {\n        const trans = `translate(${leftMove}px, ${upPos}px) scale(1, 1)`;\n        player.style.transform = trans;\n        player.style.backgroundPosition = '-100px 0px';\n        playerCoords.left += 5;\n    }\n};\n\nconst moveLeft = function () {\n    const matrix = getComputedStyle(player).transform;\n    const rightMove = parseInt(matrix.split(',')[4], 10) - 5;\n    const upPos = parseInt(matrix.split(',')[5], 10);\n    if (playerCoords.left >= 0) {\n        const trans = `translate(${rightMove}px, ${upPos}px) scale(-1, 1)`;\n        player.style.transform = trans;\n        player.style.backgroundPosition = '-100px 0px';\n        playerCoords.left -= 5;\n    }\n};\n\nconst playerJump = function jump() {\n    if (pressedKeys['39'] || pressedKeys['68']) {\n        moveRight();\n    } else\n    if (pressedKeys['37'] || pressedKeys['65']) {\n        moveLeft();\n    }\n\n    const matrix = getComputedStyle(player).transform;\n    let scale = matrix.split(',')[0];\n    if (scale.indexOf('-') === -1) {\n        scale = parseInt(scale.slice(-1), 10);\n    } else {\n        scale = parseInt(scale.slice(-2), 10);\n    }\n\n    const leftPos = parseInt(matrix.split(',')[4], 10);\n\n    if (jumpHeight.height < (field.height * 0.25) && jumpUp) {\n        jumpHeight.height += 3;\n        playerCoords.top -= 3;\n    } else {\n        jumpHeight.height -= 3;\n        playerCoords.top += 3;\n        jumpUp = false;\n    }\n\n    player.style.transform = `translate(${leftPos}px,` +\n                                `-${jumpHeight.height}px) scale(${scale}, 1)`;\n\n    if (jumpHeight.height <= 0) {\n        jumpUp = true;\n        playerInJump = false;\n        let countEvent = null;\n        const keys = Object.keys(pressedKeys);\n        for (let i = 0; i < keys.length; i++) {\n            countEvent = keys[i];\n        }\n        if (countEvent) {\n            const event = new Event('keydown');\n            event.keyCode = parseInt(countEvent, 10);\n            document.dispatchEvent(event);\n        }\n    }\n};\n\nconst showPlayerMessage = function (message, counting, span) {\n    const curMessage = document.querySelector('.player-message');\n    if (!curMessage) {\n        const playerMessage = document.createElement('div');\n        playerMessage.classList.add('player-message');\n        playerMessage.innerHTML = message;\n        if (span !== undefined) {\n            playerMessage.appendChild(document.createElement('span'));\n            playerMessage.lastChild.style.color = 'blue';\n            playerMessage.lastChild.innerHTML = span;\n            playerMessage.innerHTML += '!';\n        }\n\n        if (playerCoords.left + 220 < leftBorder) {\n            playerMessage.classList.add('left-message');\n            playerMessage.style.left = `${playerCoords.left + 20}px`;\n        } else {\n            playerMessage.classList.add('right-message');\n            playerMessage.style.left = `${playerCoords.left - 180}px`;\n        }\n\n        field.node.appendChild(playerMessage);\n        const top = playerCoords.top - playerMessage.offsetHeight - 70;\n        playerMessage.style.top = `${top}px`;\n        document.addEventListener('keydown', delPlayerMessage);\n        document.addEventListener('click', delPlayerMessage);\n        startCounting = counting;\n    } else {\n        curMessage.innerHTML += `<br>${message}`;\n        const top = playerCoords.top - curMessage.offsetHeight - 70;\n        curMessage.style.top = `${top}px`;\n        startCounting = true;\n    }\n\n    if (startCounting) {\n        backButton.style.display = 'block';\n    }\n};\n\nconst delPlayerMessage = function (mark) {\n    const playerMessage = field.node.querySelector('.player-message');\n    if (playerMessage) {\n        field.node.removeChild(playerMessage);\n        document.removeEventListener('keydown', delPlayerMessage);\n        document.removeEventListener('click', delPlayerMessage);\n\n        if (mark !== false) {\n            player.style.backgroundPosition = '0px 0px';\n        }\n\n        if (startCounting && mark !== false) {\n            startCounting = false;\n            backButton.style.display = 'none';\n            count();\n        }\n    }\n};\n\n\nexport {\n    playerCoords,\n    addPlayer,\n    showPlayerMessage,\n    delPlayerMessage,\n    jumpHeight,\n    playerJump,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/player.js","import { scoreField } from '../game/values';\n\nconst count = { left: 0 };\nconst changes = {};\nconst endOfGame = { end: false };\nconst score = { curScore: parseInt(scoreField.textContent, 10) };\n\nconst changeScore = function (change) {\n    if (!Object.keys(changes).length) {\n        changes.curScore = score.curScore;\n        changes.change = change;\n    }\n\n    if (changes.curScore + changes.change >= 0) {\n        const style = getComputedStyle(scoreField);\n        if (style.display !== 'none') {\n            if (count.left === changes.change || !changes.change) {\n                count.left = 0;\n                delete changes.curScore;\n                delete changes.change;\n            } else {\n                score.curScore = changes.curScore +\n                                count.left +\n                                (changes.change / Math.abs(changes.change));\n                const scoreLength = score.curScore.toString(10).length;\n                const times = Math.max(3 - scoreLength, 0);\n                scoreField.textContent = '0'.repeat(times) + score.curScore;\n\n                count.left += (changes.change / Math.abs(changes.change));\n            }\n        }\n    } else {\n        endOfGame.end = true;\n        delete changes.curScore;\n        delete changes.change;\n    }\n};\n\nexport {\n    changeScore,\n    score,\n    changes,\n    endOfGame,\n    count,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/score.js","import { field, wikiBut,\n        showLevel, operation, speed, backButton } from './values';\nimport { addPlayer, showPlayerMessage } from '../objects/player';\n\nconst startGame = function (target) {\n    target.classList.remove('animated', 'pulse', 'infinite');\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        field.node.removeChild(target);\n        field.node.removeChild(wikiBut);\n        document.getElementById('math').hidden = true;\n        chooseOperation();\n    }, 230);\n};\n\nconst chooseOperation = function () {\n    const p = document.createElement('p');\n    p.classList.add('other');\n    p.textContent = 'Choose the operation:';\n    field.node.insertBefore(p, field.node.firstChild);\n    p.style.font = '900 50px Kabel';\n    p.style.color = '#25196C';\n    p.style.top = '3.5%';\n\n    for (let i = 0; i < 5; i++) {\n        const button = document.createElement('div');\n\n        button.classList.add('operation');\n        button.appendChild(document.createElement('span'));\n        button.firstChild.style.marginRight = '20px';\n\n        switch (i) {\n            case 0: {\n                button.dataset.operation = '+';\n                button.firstChild.innerHTML = '+';\n                button.appendChild(document.createTextNode('addition'));\n                break;\n            }\n            case 1: {\n                button.dataset.operation = '-';\n                button.firstChild.innerHTML = '-';\n                button.firstChild.style.verticalAlign = 'top';\n                button.appendChild(document.createTextNode('subtraction'));\n                button.style.backgroundColor = '#3DC8FF';\n                break;\n            }\n            case 2: {\n                button.dataset.operation = '*';\n                button.firstChild.innerHTML = '&#215';\n                button.appendChild(document.createTextNode('product'));\n                button.style.backgroundColor = '#FF3DBA';\n                break;\n            }\n            case 3: {\n                button.dataset.operation = '/';\n                button.firstChild.innerHTML = '&#247';\n                button.firstChild.style.verticalAlign = 'top';\n                button.appendChild(document.createTextNode('division'));\n                button.style.backgroundColor = '#FFB733';\n                break;\n            }\n            case 4: {\n                button.dataset.operation = '+-*/';\n                button.firstChild.style.verticalAlign = 'top';\n                button.appendChild(document.createTextNode('mix'));\n                button.style.backgroundColor = '#3333FF';\n                break;\n            }\n            default:\n                break;\n        }\n        field.node.appendChild(button);\n        button.classList.add('animated', 'bounceInRight');\n        button.style\n            .top = `${button.offsetTop + (button.offsetHeight + 15) * i}px`;\n        button.addEventListener('mouseover', (e) => {\n            if (e.target.classList.contains('bounceInRight')) {\n                e.target.classList.remove('bounceInRight');\n            }\n            e.target.classList.add('animated', 'pulse', 'infinite');\n        });\n\n        button.addEventListener('mouseout', (e) => {\n            e.target.classList.remove('animated', 'pulse', 'infinite');\n        });\n    }\n\n    addSlider();\n    document.addEventListener('click', go);\n};\n\nconst go = function (e) {\n    if (!e.target.classList.contains('operation')) {\n        return;\n    }\n\n    e.target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        operation.sign = e.target.dataset.operation;\n        const buttons = document.querySelectorAll('.operation');\n        for (let i = 0; i < buttons.length; i++) {\n            field.node.removeChild(buttons[i]);\n        }\n        field.node.removeChild(field.node.firstChild);\n\n        const slider = document.querySelector('.slider');\n        let thumb = document.querySelector('.thumb');\n        const coord = Math.ceil((thumb.getBoundingClientRect().left -\n                                    slider.getBoundingClientRect().left) / 70);\n        speed.speed = coord || 1;\n        field.node.removeChild(slider);\n        thumb = document.querySelector('.thumb');\n        if (thumb) {\n            document.body.removeChild(thumb);\n        }\n\n        for (let i = 0; i < 3; i++) {\n            field.node.removeChild(document.querySelector('.slider-legend'));\n        }\n        field.node.style.backgroundImage = 'url(./img/field-bg.jpg)';\n        document.querySelector('.score').style.display = 'inline-block';\n        addPlayer();\n        showPlayerMessage('HI! <br>' +\n            'Let\\'s start learning! <br> Press any key to start. ;)', true);\n        setTimeout(() => {\n            showLevel(1);\n        }, 1000);\n        document.removeEventListener('click', moveThumbByClick);\n        document.removeEventListener('click', go);\n        backButton.style.display = 'block';\n    }, 230);\n};\n\nconst addSlider = function () {\n    const slider = document.createElement('div');\n    slider.classList.add('slider');\n    const thumb = document.createElement('div');\n    thumb.classList.add('thumb');\n    field.node.appendChild(slider);\n    slider.appendChild(thumb);\n\n    let p = document.createElement('p');\n    p.classList.add('slider-legend');\n    p.textContent = 'Game speed';\n    p.style.cursor = 'default';\n    field.node.appendChild(p);\n    p.style.bottom = '15px';\n\n    p = document.createElement('p');\n    p.classList.add('slider-legend', 'data-lower');\n    p.textContent = 'lower';\n    field.node.appendChild(p);\n    p.style.fontSize = '15px';\n    p.style.width = '62px';\n    p.style.left = '31.2%';\n    p.style.bottom = '49px';\n\n    p = document.createElement('p');\n    p.classList.add('slider-legend', 'data-faster');\n    p.textContent = 'faster';\n    field.node.appendChild(p);\n    p.style.fontSize = '15px';\n    p.style.width = '68px';\n    p.style.left = '62.5%';\n    p.style.bottom = '49px';\n\n    const div = document.createElement('div');\n    slider.appendChild(div);\n    div.style.height = '20px';\n    div.style.border = '1px solid #25196C';\n    div.style.position = 'absolute';\n    div.style.top = '-2px';\n    div.style.left = 'calc(50% - 1px)';\n\n    thumb.addEventListener('dragstart', () => false);\n    document.addEventListener('mousedown', changeSpeed);\n    document.addEventListener('click', moveThumbByClick);\n};\n\nconst changeSpeed = function (event) {\n    const target = event.target;\n    if (!target.classList.contains('thumb')) {\n        return;\n    }\n\n    const rect = target.getBoundingClientRect();\n    const coords = {\n        top: rect.top + pageYOffset,\n        left: rect.left + pageXOffset,\n    };\n    const shiftX = event.pageX - coords.left;\n    const shiftY = event.pageY - coords.top;\n\n    const parentRect = document\n                            .querySelector('.slider')\n                            .getBoundingClientRect();\n\n    function moveThumb(e) {\n        if (e.pageX - shiftX >= parentRect.left &&\n        e.pageX - shiftX <= parentRect.right - target.offsetWidth) {\n            target.style.left = `${e.pageX - shiftX}px`;\n        }\n    }\n\n    function drop() {\n        const left = target.style.left;\n        const parentWidth = parentRect.right - parentRect.left;\n        if (parseInt(left, 10) > parentRect.left &&\n            parseInt(left, 10) <= parentRect.left + (parentWidth / 2) - 50) {\n            target.style.left = `${parentRect.left}px`;\n        } else\n        if (parseInt(left, 10) > (parentRect.left + (parentWidth / 2) - 50) &&\n            parseInt(left, 10) <= (parentRect.left + (parentWidth / 2) + 50)) {\n            const l = parentRect.left + (parentWidth / 2) -\n                        (target.offsetWidth / 2);\n            target.style.left = `${l}px`;\n        } else\n        if (parseInt(left, 10) > parentRect.left + (parentWidth / 2) + 50) {\n            target.style.left = `${parentRect.right - target.offsetWidth}px`;\n        }\n\n        const coordsThumb = target.getBoundingClientRect();\n        document.querySelector('.slider').appendChild(target);\n        target.style.top = `${coordsThumb.top - parentRect.top}px`;\n        target.style.left = `${coordsThumb.left - parentRect.left}px`;\n\n        document.removeEventListener('mousemove', moveThumb);\n        document.removeEventListener('mouseup', drop);\n    }\n\n    document.body.appendChild(target);\n    target.style.top = `${event.pageY - shiftY}px`;\n    moveThumb(event);\n\n    document.addEventListener('mousemove', moveThumb);\n    document.addEventListener('mouseup', drop);\n};\n\nconst moveThumbByClick = function (e) {\n    if (!e.target.closest('.slider') &&\n            !e.target.classList.contains('data-lower') &&\n                !e.target.classList.contains('data-faster')) {\n        return;\n    }\n\n    const thumb = document.querySelector('.thumb');\n    const rect = thumb.getBoundingClientRect();\n    const coords = {\n        top: rect.top + pageYOffset,\n        left: rect.left + pageXOffset,\n    };\n    document.body.appendChild(thumb);\n    thumb.style.top = `${coords.top}px`;\n    thumb.style.left = `${coords.left}px`;\n    const parentRect = document\n                        .querySelector('.slider')\n                        .getBoundingClientRect();\n    const parentWidth = parentRect.right - parentRect.left;\n    const thumbWidth = thumb.offsetWidth;\n    const l = parentRect.left + (parentWidth / 2) - (thumbWidth / 2);\n\n    if (e.target.closest('.slider')) {\n        if (e.pageX > parentRect.left + (parentWidth / 2) - 20 &&\n                e.pageX < parentRect.left + (parentWidth / 2) + 20) {\n            thumb.style.left = `${l}px`;\n        } else\n        if (e.pageX > parentRect.left && e.pageX < parentRect.left + 20) {\n            thumb.style.left = `${parentRect.left}px`;\n        } else\n        if (e.pageX > parentRect.right - 20 && e.pageX < parentRect.right) {\n            thumb.style.left = `${parentRect.right - thumbWidth}px`;\n        }\n    } else\n    if (e.target.classList.contains('data-lower')) {\n        if (coords.left === l || coords.left === parentRect.left) {\n            thumb.style.left = `${parentRect.left}px`;\n        } else\n        if (coords.left === parentRect.right - thumbWidth) {\n            thumb.style.left = `${l}px`;\n        }\n    } else\n    if (e.target.classList.contains('data-faster')) {\n        if (coords.left === l ||\n            coords.left === parentRect.right - thumbWidth) {\n            thumb.style.left = `${parentRect.right - thumbWidth}px`;\n        } else\n        if (coords.left === parentRect.left) {\n            thumb.style.left = `${l}px`;\n        }\n    }\n\n    const coordsThumb = thumb.getBoundingClientRect();\n    document.querySelector('.slider').appendChild(thumb);\n    thumb.style.top = `${coordsThumb.top - parentRect.top}px`;\n    thumb.style.left = `${coordsThumb.left - parentRect.left}px`;\n};\n\nexport {\n    startGame,\n    chooseOperation,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/gamestart.js","import { field, player, level, scoreField, backButton } from './values';\nimport { delPlayerMessage } from '../objects/player';\nimport { chooseOperation } from './gamestart';\nimport { score } from '../objects/score';\n\nconst gameOver = function (back) {\n    delPlayerMessage(false);\n    setTimeout((backBut) => {\n        player.style.display = 'none';\n        player.style.transform = `translate(0px, 0px) scale(1, 1)`;\n        scoreField.style.display = 'none';\n        if (!backBut) {\n            const p = document.createElement('p');\n            p.classList.add('level');\n            p.innerHTML = 'GAME OVER';\n            field.node.appendChild(p);\n            p.style.font = '900 70px Kabel';\n            p.style.top = `${p.offsetTop - 100}px`;\n            p.style.cursor = 'default';\n\n            const restart = document.createElement('div');\n            restart.classList.add('restart');\n            restart.textContent = 'Press to restart';\n            field.node.appendChild(restart);\n            restart.addEventListener('click', restartGame);\n        } else {\n            const lvl = document.querySelector('.level');\n            if (lvl) {\n                field.node.removeChild(lvl);\n            }\n            backButton.classList.remove('animated', 'bounceOut');\n            backButton.style.display = 'none';\n            field.node.style.backgroundImage = '';\n            score.curScore = 0;\n            level.num = 1;\n            scoreField.textContent = '000';\n            chooseOperation();\n        }\n    }, 200, back);\n};\n\nconst restartGame = function (e) {\n    if (!e.target.classList.contains('restart')) {\n        return;\n    }\n\n    field.node.removeChild(e.target);\n    field.node.removeChild(document.querySelector('.level'));\n    field.node.style.backgroundImage = '';\n    chooseOperation();\n};\n\nexport default gameOver;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/gameover.js","import { field, startGameBut, wikiBut, backButton } from './values';\n\nlet count = 0;\nlet image = null;\nlet rightArr = null;\nlet leftArr = null;\nlet page = null;\n\nconst showWiki = function (target) {\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        target.classList.remove('animated', 'bounceOut');\n        wikiBut.hidden = true;\n        startGameBut.hidden = true;\n        document.getElementById('math').hidden = true;\n        renderWiki();\n    }, 230);\n};\n\nconst renderWiki = function () {\n    image = document.createElement('div');\n    image.classList.add('wiki-image');\n    field.node.appendChild(image);\n    image.style.width = `${field.node.clientWidth * 0.84}px`;\n    image.style.height = `${field.node.clientHeight * 0.85}px`;\n    image.style.backgroundImage = `url(./img/wiki/choose.png)`;\n    image.style.backgroundSize = '701.5% 100%';\n\n    leftArr = document.createElement('div');\n    leftArr.classList.add('arrow-left');\n    field.node.appendChild(leftArr);\n\n    rightArr = document.createElement('div');\n    rightArr.classList.add('arrow-right');\n    field.node.appendChild(rightArr);\n\n    page = document.createElement('p');\n    page.style.font = '400 22px Kabel';\n    page.style.color = '#25196C';\n    page.innerHTML = `${count + 1}/7`;\n    field.node.appendChild(page);\n    page.style.position = 'absolute';\n    page.style.left = 'calc(50% - 20px)';\n    page.style.bottom = '37px';\n\n    const button = backButton.cloneNode(true);\n    field.node.appendChild(button);\n    button.style.top = '90%';\n    button.style.display = 'block';\n\n    document.addEventListener('click', changePage);\n    document.addEventListener('click', backToStart);\n\n    window.addEventListener('resize', resizeImage);\n};\n\nconst changePage = function (e) {\n    const target = e.target;\n    if (!(target === rightArr) && !(target === leftArr)) {\n        return;\n    }\n\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        target.classList.remove('animated', 'bounceOut');\n    }, 200);\n\n    if (target === rightArr) {\n        if (count < 6) {\n            count++;\n        }\n    } else\n    if (count) {\n        count--;\n    }\n\n    image.style\n      .backgroundPosition = `${-parseInt(image.style.width, 10) * count}px 0px`;\n    page.innerHTML = `${count + 1}/7`;\n};\n\nconst backToStart = function (e) {\n    const target = e.target.closest('.back-to-operation');\n    if (!target) {\n        return;\n    }\n\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        window.removeEventListener('resize', resizeImage);\n        field.node.removeChild(image);\n        field.node.removeChild(leftArr);\n        field.node.removeChild(rightArr);\n        field.node.removeChild(page);\n        field.node.removeChild(target);\n        image = null;\n        leftArr = null;\n        rightArr = null;\n        wikiBut.hidden = false;\n        startGameBut.hidden = false;\n        document.getElementById('math').hidden = false;\n    }, 200);\n\n    document.removeEventListener('click', changePage);\n    document.removeEventListener('click', backToStart);\n};\n\nconst resizeImage = function () {\n    const imageToResize = document.querySelector('.wiki-image');\n    imageToResize.style.width = `${field.node.clientWidth * 0.84}px`;\n    imageToResize.style.height = `${field.node.clientHeight * 0.85}px`;\n};\n\nexport default showWiki;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/wiki.js","import {\n    field, exampleField, patrick, player, speed,\n} from '../game/values';\nimport { playerCoords, showPlayerMessage } from './player';\nimport { changeScore, endOfGame } from './score';\n\nconst balloons = [];\nlet ballHeight = null;\nlet bottomBorder = null;\nlet down = 0;\nconst ballOnField = { on: false };\nlet selectedBall = null;\nconst mix = [\n    0, -12, 11, 0, -11, 0, -9, 0, 12,\n    0, -8, 0, 13, 9, 0, -12, 0, 8, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nconst createBalloons = function (answers) {\n    const n = 3;\n    if (!field.node.querySelector('.balloon')) {\n        for (let i = 0; i < n; i++) {\n            balloons[i] = {};\n            balloons[i].elem = document.createElement('div');\n            balloons[i].elem.classList.add('balloon');\n            balloons[i].elem.textContent = answers[i];\n        }\n\n        selectedBall = null;\n        animateBalloons();\n    }\n};\n\nconst animateBalloons = function () {\n    if (!ballOnField.on && !down && !selectedBall) {\n        addBalloons();\n    }\n\n    if (down <= bottomBorder && balloons[0]) {\n        const goPx = [];\n        for (let i = 0; i < 12; i++) {\n            if (i % 5) {\n                goPx[i] = speed.speed;\n            } else {\n                goPx[i] = speed.speed - 1;\n            }\n        }\n\n        const index = Math.round(Math.random() * 11);\n        down += goPx[index];\n\n        for (let i = 0; i < balloons.length; i++) {\n            const angle = balloons[i].angle;\n            if (angle === balloons[i].moveTo) {\n                const ind = Math.round(Math.random() * 27);\n                balloons[i].moveTo += mix[ind];\n                if (balloons[i].moveTo > 30) {\n                    balloons[i].moveTo -= Math.abs(mix[ind]);\n                } else\n                if (balloons[i].moveTo < -30) {\n                    balloons[i].moveTo += Math.abs(mix[ind]);\n                }\n            } else {\n                balloons[i].angle += (balloons[i].moveTo - angle) /\n                                    Math.abs(balloons[i].moveTo - angle);\n            }\n\n            balloons[i].elem.style.transform = `translate(0, ${down}px)` +\n                                                `rotate(${angle}deg)`;\n        }\n\n        if (down + ballHeight >= playerCoords.top - (field.height * 0.25)) {\n            let select = null;\n            for (let i = 0; i < balloons.length; i++) {\n                select = playerChooseBall({\n                        width: playerCoords.width,\n                        height: playerCoords.height,\n                        top: playerCoords.top,\n                        left: playerCoords.left,\n                    }, {\n                        width: balloons[i].width,\n                        height: balloons[i].height,\n                        top: balloons[i].top + down,\n                        left: balloons[i].left,\n                    });\n                if (select) {\n                    selectedBall = balloons[i];\n                    removeBalloons(selectedBall);\n                    select = null;\n                    break;\n                }\n            }\n        }\n    } else\n    if (ballOnField.on) {\n        ballOnField.on = false;\n        removeBalloons();\n    }\n};\n\nconst addBalloons = function () {\n    let minTop = field.height;\n    const ballColors = [];\n    for (let i = 0; i < balloons.length; i++) {\n        field.node.appendChild(balloons[i].elem);\n\n        let flag = false;\n        let color = null;\n        while (!flag) {\n            color = Math.round(Math.random() * 8);\n            if (!(ballColors.includes(color))) {\n                flag = true;\n                ballColors.push(color);\n            }\n        }\n        balloons[i].elem.style.backgroundPosition = `${75 * color}px 0px`;\n\n        balloons[i].width = balloons[i].elem.offsetWidth;\n        balloons[i].height = balloons[i].elem.offsetHeight;\n        balloons[i].top = (Math.random() * 55) + 45;\n        balloons[i].left = Math.random() * (field.width - balloons[i].width);\n        balloons[i].angle = 0;\n        balloons[i].moveTo = balloons[i].angle;\n\n        balloons[i].elem.style.top = `${balloons[i].top}px`;\n        let j = 0;\n        while (j < i) {\n            let mark = false;\n            while (Math.abs(balloons[j].left - balloons[i].left) < 100) {\n                balloons[i].left = Math.random() *\n                                    (field.width - balloons[i].width);\n                mark = true;\n            }\n            j++;\n            if (mark) {\n                j = 0;\n            }\n        }\n\n        balloons[i].elem.style.left = `${balloons[i].left}px`;\n        if (minTop > balloons[i].top) {\n            minTop = balloons[i].top;\n        }\n    }\n\n    bottomBorder = field.height - minTop;\n    ballHeight = balloons[0].elem.offsetHeight;\n    ballOnField.on = true;\n    document.addEventListener('click', selectBalloon);\n};\n\nconst selectBalloon = function (e) {\n    const target = e.target;\n    selectedBall = true;\n    for (let i = 0; i < balloons.length; i++) {\n        if (balloons[i].elem === target) {\n            removeBalloons(balloons[i]);\n            break;\n        }\n    }\n    e.stopPropagation();\n};\n\nconst playerChooseBall = function (rect1, rect2) {\n    const center1 = {\n        x: rect1.left + (rect1.width / 2),\n        y: rect1.top + (rect1.height / 2),\n    };\n    const center2 = {\n        x: rect2.left + (rect2.width / 2),\n        y: rect2.top + (rect2.height / 2),\n    };\n\n    const distX = Math.abs(center2.x - center1.x);\n    const distY = Math.abs(center2.y - center1.y);\n    if (rect1.top - rect2.top < ballHeight * 0.65) {\n        if (distX < ((rect1.width + rect2.width) / 2) - 5 &&\n                distY < ((rect1.height + rect2.height) / 2) - 5) {\n            return true;\n        }\n        return false;\n    }\n};\n\nconst removeBalloons = function (selectBall) {\n    const num = parseInt(balloons[0].elem.innerHTML, 10);\n    for (let i = 0; i < balloons.length; i++) {\n        if (selectBall && balloons[i] === selectBall) {\n            checkSelection(selectBall, num);\n        }\n        field.node.removeChild(balloons[i].elem);\n        balloons[i] = null;\n    }\n\n    if (!selectBall) {\n        checkSelection();\n    }\n\n    bottomBorder = null;\n    down = 0;\n    ballOnField.on = false;\n    document.removeEventListener('click', selectBalloon);\n    setTimeout(() => {\n        patrick.style.backgroundPosition = '0px 0px';\n        exampleField.style.display = 'none';\n        patrick.style.display = 'none';\n    }, 1000);\n};\n\nconst checkSelection = function (selectBall, num) {\n    if (selectBall === balloons[0]) {\n        explode(selectBall, 0);\n        changeScore(100);\n        player.style.backgroundPosition = '-200px 0px';\n        patrick.style.backgroundPosition = '-80px 0px';\n        setTimeout(() => {\n            showPlayerMessage('You\\'re genius! :)', true);\n            player.style.backgroundPosition = '0px 0px';\n        }, 1000);\n    } else {\n        if (selectBall) {\n            explode(selectBall, 1);\n        }\n        changeScore(-50);\n        player.style.backgroundPosition = '-300px 0px';\n        patrick.style.backgroundPosition = '-160px 0px';\n        if (!endOfGame.end) {\n            if (selectBall) {\n                setTimeout(() => {\n                    showPlayerMessage(`Think better! <br> It's `, true, num);\n                    player.style.backgroundPosition = '0px 0px';\n                }, 1000);\n            } else {\n                setTimeout(() => {\n                    showPlayerMessage('Hurry up, my Friend!', true, num);\n                    player.style.backgroundPosition = '0px 0px';\n                }, 1000);\n            }\n        } else {\n            setTimeout(() => {\n                showPlayerMessage('OH! NO!', false);\n            }, 1000);\n        }\n    }\n};\n\nconst explode = function (selectBall, offset) {\n    const explosion = document.createElement('div');\n    explosion.classList.add('explosion', 'animated', 'zoomIn');\n    explosion.style.backgroundPosition = `${256 * offset}px 0px`;\n\n    const top = selectBall.top + down - 100;\n    const left = selectBall.left - 90;\n\n    if (left < 0) {\n        explosion.style.left = 0;\n    } else\n    if (left + 256 > field.width) {\n        explosion.style.left = `${field.width - 256}px`;\n    } else {\n        explosion.style.left = `${left}px`;\n    }\n\n    if (top + 256 > field.height) {\n        explosion.style.top = `${field.height - 256}px`;\n    } else\n    if (top < 0) {\n        explosion.style.top = 0;\n    } else {\n        explosion.style.top = `${top}px`;\n    }\n\n    field.node.appendChild(explosion);\n    setTimeout(() => {\n        field.node.removeChild(explosion);\n    }, 1200);\n};\n\nexport {\n    createBalloons,\n    balloons,\n    ballOnField,\n    animateBalloons,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/balloons.js","import { exampleField, operation, level } from '../game/values';\n\nlet exampleInField = false;\nlet answers = [];\n\nconst startExample = function () {\n    const style = getComputedStyle(exampleField);\n    if (style.display !== 'none') {\n        if (!exampleInField) {\n            showExample();\n            return answers;\n        }\n    } else {\n        exampleInField = false;\n    }\n};\n\nconst showExample = function () {\n    const n = 2;\n    let example = '';\n    let max = 10 * level.num;\n    if (level.num > 5) {\n        max = 10 * 5;\n    }\n\n    function sorting(a, b) {\n        if (a > b) {\n            return 1;\n        }\n        return -1;\n    }\n\n    function generateNum(m, answer) {\n        const rand = Math.random();\n        return Math.abs(Math.min(\n                Math.round((rand * (2 * m)) - m), Math.round(rand * answer)));\n    }\n\n    function generator(sign) {\n        const operands = [];\n        let answer = 0;\n        switch (sign) {\n            case '+': {\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round(Math.random() * max);\n                }\n                example = `${operands[0]} + ${operands[1]} = ...`;\n                answer = operands[0] + operands[1];\n                break;\n            }\n            case '-': {\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round(Math.random() * max);\n                }\n                operands.sort(sorting);\n                example = `${operands[1]} - ${operands[0]} = ...`;\n                answer = operands[1] - operands[0];\n                break;\n            }\n            case '*': {\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round((Math.random() * max) + 1);\n                    max = Math.floor(100 / operands[i]) - 1;\n                }\n                example = `${operands[0]} &#215 ${operands[1]} = ...`;\n                answer = operands[0] * operands[1];\n                break;\n            }\n            case '/': {\n                max *= 2;\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round((Math.random() * max) + i);\n                    max = operands[i] / 2;\n                }\n                if (operands[0] % operands[1]) {\n                    operands[0] = operands[1] *\n                                    Math.round(operands[0] / operands[1]);\n                }\n                example = `${operands[0]} &#247 ${operands[1]} = ...`;\n                answer = operands[0] / operands[1];\n                break;\n            }\n            default:\n                break;\n        }\n\n        return [\n            answer,\n            answer + generateNum(10, answer),\n            answer + generateNum(10, answer),\n        ];\n    }\n\n    if (operation.sign.length === 1) {\n        answers = generator(operation.sign);\n    } else {\n        answers = generator(operation.sign[Math.round(Math.random() * 3)]);\n    }\n\n    for (let i = 0; i < answers.length; i++) {\n        for (let j = i + 1; j < answers.length; j++) {\n            if (answers[i] === answers[j]) {\n                answers[j]++;\n            }\n        }\n    }\n\n    exampleField.innerHTML = example;\n    exampleInField = true;\n};\n\nexport {\n    exampleField,\n    startExample,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/examples.js","import { startGame } from './gamestart';\nimport {\n    showPlayerMessage, jumpHeight, playerJump,\n} from '../objects/player';\nimport { startExample } from '../objects/examples';\nimport { score, endOfGame, count, changeScore } from '../objects/score';\nimport {\n    startGameBut, wikiBut, field, showLevel, level, player, backButton,\n} from './values';\nimport {\n    createBalloons, ballOnField, animateBalloons,\n} from '../objects/balloons';\nimport gameOver from './gameover';\nimport showWiki from './wiki';\n\n\nlet audio = null;\n\nconst mainFunc = function main() {\n    if (!endOfGame.end) {\n        render();\n\n        const answers = startExample();\n        if (answers) {\n            setTimeout(() => {\n                createBalloons(answers);\n            }, 3000);\n        }\n\n        if (score.curScore && Math.floor(score.curScore / 1000) === level.num) {\n            levelUp();\n        }\n    } else {\n        endOfGame.end = false;\n        setTimeout(gameOver, 2000);\n    }\n\n    requestAnimationFrame(main);\n};\n\nconst levelUp = function () {\n    level.num = Math.floor(score.curScore / 1000) + 1;\n    showLevel(level.num);\n    player.style.backgroundPosition = '-400px 0px';\n    showPlayerMessage('HEY-HEY! <br> Wonderfu-u-ul! <br> Level UP!');\n};\n\nconst render = function () {\n    if (jumpHeight.height) {\n        playerJump();\n    }\n\n    if (ballOnField.on) {\n        animateBalloons();\n    }\n\n    if (count.left) {\n        changeScore();\n    }\n};\n\nconst backFunc = function () {\n    backButton.classList.add('animated', 'bounceOut');\n    gameOver(true);\n};\n\nconst loadImgAudio = function () {\n    const sources = [\n        './img/kids-math-game.jpg',\n        './img/wiki/choose.png',\n        './img/field-bg.jpg',\n        './img/Spongebob.png',\n        './img/Patrick.png',\n        './img/explosion.png',\n        './img/balloons.png',\n    ];\n\n    const div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.top = 0;\n    div.style.left = 0;\n    div.style.visibility = 'hidden';\n    document.body.appendChild(div);\n    div.innerHTML = `<img src=\"${sources.join('\" /><img src=\"')}\" />`;\n    const lastImg = div.lastChild;\n    lastImg.onload = () => { document.body.removeChild(div); };\n\n    if (!audio && document.getElementById('audio')) {\n        audio = document.getElementById('audio');\n        document.forms[0].style.marginLeft = `calc(50% + ` +\n                                                `${(field.width / 2) - 60}px)`;\n        document.forms[0].style.display = 'block';\n        document.forms[0].elements[0].addEventListener('change', mute);\n    }\n\n};\n\nconst mute = function (e) {\n    if (e.target.checked) {\n        audio.play();\n    } else {\n        audio.pause();\n    }\n};\n\nconst start = function (e) {\n    const target = e.target;\n    if (target === startGameBut) {\n        document.removeEventListener('click', start);\n        startGame(target);\n    } else\n    if (target === wikiBut) {\n        showWiki(target);\n    }\n\n    return false;\n};\n\ndocument.addEventListener('DOMContentLoaded', loadImgAudio);\ndocument.addEventListener('click', start);\nsetTimeout(() => {\n    startGameBut.classList.add('animated', 'pulse', 'infinite');\n}, 3500);\n\nbackButton.addEventListener('click', backFunc);\n\nmainFunc();\n\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/web_game.js"],"sourceRoot":""}