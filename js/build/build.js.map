{"version":3,"sources":["webpack:///webpack/bootstrap 579d10baba1b9a2775ee","webpack:///./modules/game/values.js","webpack:///./modules/objects/player.js","webpack:///./modules/objects/score.js","webpack:///./modules/game/gamestart.js","webpack:///./modules/game/gameover.js","webpack:///./modules/game/wiki.js","webpack:///./modules/objects/balloons.js","webpack:///./modules/objects/examples.js","webpack:///./modules/game/web_game.js"],"names":["player","document","getElementById","field","node","querySelector","width","clientWidth","height","clientHeight","startGameBut","wikiBut","exampleField","scoreField","patrick","backButton","sound","on","level","num","operation","sign","speed","showLevel","lvl","lev","createElement","classList","add","textContent","appendChild","setTimeout","removeChild","count","colors","style","display","backgroundPosition","countField","getColor","colorIndex","Math","round","random","color","index","index1","index2","window","addEventListener","forms","marginLeft","playerCoords","pressedKeys","playerInJump","jumpHeight","jumpUp","leftBorder","startCounting","addPlayer","movePlayer","removeKey","offsetWidth","getPlayerCoords","top","offsetTop","left","offsetLeft","offsetHeight","e","key","keyCode","audio","Audio","play","playerJump","moveRight","moveLeft","matrix","getComputedStyle","transform","leftMove","parseInt","split","upPos","trans","rightMove","jump","scale","indexOf","slice","leftPos","countEvent","keys","Object","i","length","event","Event","dispatchEvent","showPlayerMessage","message","counting","span","curMessage","playerMessage","innerHTML","undefined","lastChild","delPlayerMessage","mark","removeEventListener","changes","endOfGame","end","score","curScore","changeScore","change","abs","scoreLength","toString","times","max","repeat","startGame","target","remove","hidden","chooseOperation","p","insertBefore","firstChild","font","button","marginRight","dataset","createTextNode","verticalAlign","backgroundColor","contains","addSlider","go","buttons","querySelectorAll","slider","thumb","coord","ceil","getBoundingClientRect","body","backgroundImage","moveThumbByClick","cursor","bottom","fontSize","div","border","position","changeSpeed","rect","coords","pageYOffset","pageXOffset","shiftX","pageX","shiftY","pageY","parentRect","moveThumb","right","drop","parentWidth","l","coordsThumb","closest","thumbWidth","gameOver","back","backBut","restart","restartGame","image","rightArr","leftArr","page","showWiki","renderWiki","backgroundSize","cloneNode","changePage","backToStart","resizeImage","imageToResize","balloons","ballHeight","bottomBorder","down","ballOnField","selectedBall","mix","createBalloons","answers","n","elem","animateBalloons","addBalloons","goPx","angle","moveTo","ind","select","playerChooseBall","removeBalloons","minTop","ballColors","flag","includes","push","j","selectBalloon","stopPropagation","rect1","rect2","center1","x","y","center2","distX","distY","selectBall","checkSelection","explode","offset","explosion","exampleInField","startExample","showExample","example","sorting","a","b","generateNum","m","answer","rand","min","generator","operands","sort","floor","mainFunc","main","render","levelUp","requestAnimationFrame","backFunc","loadImgAudio","sources","visibility","join","lastImg","onload","elements","mute","checked","pause","start"],"mappings":"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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 579d10baba1b9a2775ee","const player = document.getElementById('player');\nconst field = { node: document.querySelector('.field') };\nfield.width = field.node.clientWidth;\nfield.height = field.node.clientHeight;\nconst startGameBut = document.querySelector('.start');\nconst wikiBut = document.querySelector('.wiki');\nconst exampleField = document.querySelector('.example');\nconst scoreField = document.querySelector('.score');\nconst patrick = document.querySelector('.patrick');\nconst backButton = document.querySelector('.back-to-operation');\nconst sound = { on: true };\n\nconst level = { num: 1 };\nconst operation = { sign: '' };\nconst speed = { speed: 1 };\n\nconst showLevel = function (lvl) {\n    const lev = document.createElement('p');\n    lev.classList.add('level', 'animated', 'flipInX');\n    lev.textContent = `LEVEL ${lvl}`;\n    field.node.appendChild(lev);\n    setTimeout(() => {\n        if (document.querySelector('.level')) {\n            field.node.removeChild(lev);\n        }\n    }, 1000);\n};\n\n\nconst count = function () {\n    const colors = ['red', 'yellow', 'green', 'orange', 'purple'];\n    exampleField.style.display = 'inline-block';\n    patrick.style.display = 'inline-block';\n    player.style.backgroundPosition = '0px 0px';\n\n    const countField = document.createElement('p');\n    countField.classList.add('count', 'animated', 'zoomIn', 'infinite');\n    field.node.appendChild(countField);\n\n    function getColor() {\n        const colorIndex = Math.round(Math.random() * 5);\n        countField.style.color = colors[colorIndex];\n    }\n\n    setTimeout((index) => {\n        getColor();\n        countField.textContent = `${index}`;\n        setTimeout((index1) => {\n            getColor();\n            countField.textContent = `${index1}`;\n            setTimeout((index2) => {\n                getColor();\n                countField.textContent = `${index2}`;\n            }, 1020, 1);\n        }, 1020, 2);\n    }, 0, 3);\n\n    setTimeout(() => {\n        field.node.removeChild(countField);\n    }, 3000);\n};\n\n\nwindow.addEventListener('resize', () => {\n    field.height = field.node.clientHeight;\n    field.width = field.node.clientWidth;\n    document.forms[0].style.marginLeft = `calc(50% + ${field.width / 2 - 60}px)`;\n});\n\nexport {\n    player,\n    field,\n    startGameBut,\n    wikiBut,\n    exampleField,\n    scoreField,\n    patrick,\n    backButton,\n    level,\n    operation,\n    speed,\n    showLevel,\n    count,\n    sound,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/values.js","import { field, count, player, backButton, sound } from '../game/values';\n\nconst playerCoords = {};\nconst pressedKeys = {};\nlet playerInJump = false;\nconst jumpHeight = { height: 0 };\nlet jumpUp = true;\nlet leftBorder = null;\nlet startCounting = false;\n\nconst addPlayer = function () {\n    player.style.backgroundPosition = '0px 0px';\n    player.style.display = 'inline-block';\n    document.addEventListener('keydown', movePlayer);\n    document.addEventListener('keyup', removeKey);\n    leftBorder = field.width - player.offsetWidth;\n\n    window.addEventListener('resize', () => {\n        leftBorder = field.width - player.offsetWidth;\n    });\n    getPlayerCoords();\n};\n\nconst getPlayerCoords = function () {\n    playerCoords.top = player.offsetTop;\n    playerCoords.left = player.offsetLeft;\n    playerCoords.height = player.offsetHeight;\n    playerCoords.width = player.offsetWidth;\n};\n\nconst movePlayer = function (e) {\n    const key = e.keyCode;\n\n    if (key !== 39 && key !== 68 && key !== 37 &&\n            key !== 65 && key !== 38 && key !== 87) {\n        return;\n    }\n\n    if (!pressedKeys[key]) {\n        pressedKeys[key] = true;\n    }\n\n    if (key === 38 || key === 87 || (pressedKeys['38'] || pressedKeys['87'])) {\n        if (!playerInJump) {\n            if (sound.on) {\n                const audio = new Audio('./audio/player-jump.ogg');\n                audio.play();\n            }\n            playerInJump = true;\n            playerJump();\n        }\n    } else\n    if ((key === 39 || key === 68) &&\n            !(pressedKeys['37'] || pressedKeys['65'])) {\n        moveRight();\n    } else\n    if ((key === 37 || key === 65) &&\n            !(pressedKeys['39'] || pressedKeys['68'])) {\n        moveLeft();\n    }\n};\n\nconst removeKey = function (e) {\n    if (e.keyCode in pressedKeys) {\n        delete pressedKeys[e.keyCode];\n        player.style.backgroundPosition = '0px 0px';\n    }\n};\n\nconst moveRight = function () {\n    const matrix = getComputedStyle(player).transform;\n    const leftMove = parseInt(matrix.split(',')[4], 10) + 5;\n    const upPos = parseInt(matrix.split(',')[5], 10);\n    if (playerCoords.left <= leftBorder) {\n        const trans = `translate(${leftMove}px, ${upPos}px) scale(1, 1)`;\n        player.style.transform = trans;\n        player.style.backgroundPosition = '-100px 0px';\n        playerCoords.left += 5;\n    }\n};\n\nconst moveLeft = function () {\n    const matrix = getComputedStyle(player).transform;\n    const rightMove = parseInt(matrix.split(',')[4], 10) - 5;\n    const upPos = parseInt(matrix.split(',')[5], 10);\n    if (playerCoords.left >= 0) {\n        const trans = `translate(${rightMove}px, ${upPos}px) scale(-1, 1)`;\n        player.style.transform = trans;\n        player.style.backgroundPosition = '-100px 0px';\n        playerCoords.left -= 5;\n    }\n};\n\nconst playerJump = function jump() {\n    if (pressedKeys['39'] || pressedKeys['68']) {\n        moveRight();\n    } else\n    if (pressedKeys['37'] || pressedKeys['65']) {\n        moveLeft();\n    }\n\n    const matrix = getComputedStyle(player).transform;\n    let scale = matrix.split(',')[0];\n    if (scale.indexOf('-') === -1) {\n        scale = parseInt(scale.slice(-1), 10);\n    } else {\n        scale = parseInt(scale.slice(-2), 10);\n    }\n\n    const leftPos = parseInt(matrix.split(',')[4], 10);\n\n    if (jumpHeight.height < (field.height * 0.25) && jumpUp) {\n        jumpHeight.height += 3;\n        playerCoords.top -= 3;\n    } else {\n        jumpHeight.height -= 3;\n        playerCoords.top += 3;\n        jumpUp = false;\n    }\n\n    player.style.transform = `translate(${leftPos}px,` +\n                                `-${jumpHeight.height}px) scale(${scale}, 1)`;\n\n    if (jumpHeight.height <= 0) {\n        jumpUp = true;\n        playerInJump = false;\n        let countEvent = null;\n        const keys = Object.keys(pressedKeys);\n        for (let i = 0; i < keys.length; i++) {\n            countEvent = keys[i];\n        }\n        if (countEvent) {\n            const event = new Event('keydown');\n            event.keyCode = parseInt(countEvent, 10);\n            document.dispatchEvent(event);\n        }\n    }\n};\n\nconst showPlayerMessage = function (message, counting, span) {\n    const curMessage = document.querySelector('.player-message');\n    if (!curMessage) {\n        const playerMessage = document.createElement('div');\n        playerMessage.classList.add('player-message');\n        playerMessage.innerHTML = message;\n        if (span !== undefined) {\n            playerMessage.appendChild(document.createElement('span'));\n            playerMessage.lastChild.style.color = 'blue';\n            playerMessage.lastChild.innerHTML = span;\n            playerMessage.innerHTML += '!';\n        }\n\n        if (playerCoords.left + 220 < leftBorder) {\n            playerMessage.classList.add('left-message');\n            playerMessage.style.left = `${playerCoords.left + 20}px`;\n        } else {\n            playerMessage.classList.add('right-message');\n            playerMessage.style.left = `${playerCoords.left - 180}px`;\n        }\n\n        field.node.appendChild(playerMessage);\n        const top = playerCoords.top - playerMessage.offsetHeight - 70;\n        playerMessage.style.top = `${top}px`;\n        document.addEventListener('keydown', delPlayerMessage);\n        document.addEventListener('click', delPlayerMessage);\n        startCounting = counting;\n    } else {\n        curMessage.innerHTML += `<br>${message}`;\n        const top = playerCoords.top - curMessage.offsetHeight - 70;\n        curMessage.style.top = `${top}px`;\n        startCounting = true;\n    }\n\n    if (startCounting) {\n        backButton.style.display = 'block';\n    }\n};\n\nconst delPlayerMessage = function (mark) {\n    const playerMessage = field.node.querySelector('.player-message');\n    if (playerMessage) {\n        field.node.removeChild(playerMessage);\n        document.removeEventListener('keydown', delPlayerMessage);\n        document.removeEventListener('click', delPlayerMessage);\n\n        if (mark !== false) {\n            player.style.backgroundPosition = '0px 0px';\n        }\n\n        if (startCounting && mark !== false) {\n            startCounting = false;\n            backButton.style.display = 'none';\n            count();\n        }\n    }\n};\n\n\nexport {\n    playerCoords,\n    addPlayer,\n    showPlayerMessage,\n    delPlayerMessage,\n    jumpHeight,\n    playerJump,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/player.js","import { scoreField } from '../game/values';\n\nconst count = { left: 0 };\nconst changes = {};\nconst endOfGame = { end: false };\nconst score = { curScore: parseInt(scoreField.textContent, 10) };\n\nconst changeScore = function (change) {\n    if (!Object.keys(changes).length) {\n        changes.curScore = score.curScore;\n        changes.change = change;\n    }\n\n    if (changes.curScore + changes.change >= 0) {\n        const style = getComputedStyle(scoreField);\n        if (style.display !== 'none') {\n            if (count.left === changes.change || !changes.change) {\n                count.left = 0;\n                delete changes.curScore;\n                delete changes.change;\n            } else {\n                score.curScore = changes.curScore +\n                                count.left +\n                                (changes.change / Math.abs(changes.change));\n                const scoreLength = score.curScore.toString(10).length;\n                const times = Math.max(3 - scoreLength, 0);\n                scoreField.textContent = '0'.repeat(times) + score.curScore;\n\n                count.left += (changes.change / Math.abs(changes.change));\n            }\n        }\n    } else {\n        endOfGame.end = true;\n        delete changes.curScore;\n        delete changes.change;\n    }\n};\n\nexport {\n    changeScore,\n    score,\n    changes,\n    endOfGame,\n    count,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/score.js","import { field, wikiBut,\n        showLevel, operation, speed, backButton } from './values';\nimport { addPlayer, showPlayerMessage } from '../objects/player';\n\nconst startGame = function (target) {\n    target.classList.remove('animated', 'pulse', 'infinite');\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        field.node.removeChild(target);\n        field.node.removeChild(wikiBut);\n        document.getElementById('math').hidden = true;\n        chooseOperation();\n    }, 230);\n};\n\nconst chooseOperation = function () {\n    const p = document.createElement('p');\n    p.classList.add('other');\n    p.textContent = 'Choose the operation:';\n    field.node.insertBefore(p, field.node.firstChild);\n    p.style.font = '900 50px Kabel';\n    p.style.color = '#25196C';\n    p.style.top = '3.5%';\n\n    for (let i = 0; i < 5; i++) {\n        const button = document.createElement('div');\n\n        button.classList.add('operation');\n        button.appendChild(document.createElement('span'));\n        button.firstChild.style.marginRight = '20px';\n\n        switch (i) {\n            case 0: {\n                button.dataset.operation = '+';\n                button.firstChild.innerHTML = '+';\n                button.appendChild(document.createTextNode('addition'));\n                break;\n            }\n            case 1: {\n                button.dataset.operation = '-';\n                button.firstChild.innerHTML = '-';\n                button.firstChild.style.verticalAlign = 'top';\n                button.appendChild(document.createTextNode('subtraction'));\n                button.style.backgroundColor = '#3DC8FF';\n                break;\n            }\n            case 2: {\n                button.dataset.operation = '*';\n                button.firstChild.innerHTML = '&#215';\n                button.appendChild(document.createTextNode('product'));\n                button.style.backgroundColor = '#FF3DBA';\n                break;\n            }\n            case 3: {\n                button.dataset.operation = '/';\n                button.firstChild.innerHTML = '&#247';\n                button.firstChild.style.verticalAlign = 'top';\n                button.appendChild(document.createTextNode('division'));\n                button.style.backgroundColor = '#FFB733';\n                break;\n            }\n            case 4: {\n                button.dataset.operation = '+-*/';\n                button.firstChild.style.verticalAlign = 'top';\n                button.appendChild(document.createTextNode('mix'));\n                button.style.backgroundColor = '#3333FF';\n                break;\n            }\n            default:\n                break;\n        }\n        field.node.appendChild(button);\n        button.classList.add('animated', 'bounceInRight');\n        button.style\n            .top = `${button.offsetTop + (button.offsetHeight + 15) * i}px`;\n        button.addEventListener('mouseover', (e) => {\n            if (e.target.classList.contains('bounceInRight')) {\n                e.target.classList.remove('bounceInRight');\n            }\n            e.target.classList.add('animated', 'pulse', 'infinite');\n        });\n\n        button.addEventListener('mouseout', (e) => {\n            e.target.classList.remove('animated', 'pulse', 'infinite');\n        });\n    }\n\n    addSlider();\n    document.addEventListener('click', go);\n};\n\nconst go = function (e) {\n    if (!e.target.classList.contains('operation')) {\n        return;\n    }\n\n    e.target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        operation.sign = e.target.dataset.operation;\n        const buttons = document.querySelectorAll('.operation');\n        for (let i = 0; i < buttons.length; i++) {\n            field.node.removeChild(buttons[i]);\n        }\n        field.node.removeChild(field.node.firstChild);\n\n        const slider = document.querySelector('.slider');\n        let thumb = document.querySelector('.thumb');\n        const coord = Math.ceil((thumb.getBoundingClientRect().left -\n                                    slider.getBoundingClientRect().left) / 70);\n        speed.speed = coord || 1;\n        field.node.removeChild(slider);\n        thumb = document.querySelector('.thumb');\n        if (thumb) {\n            document.body.removeChild(thumb);\n        }\n\n        for (let i = 0; i < 3; i++) {\n            field.node.removeChild(document.querySelector('.slider-legend'));\n        }\n        field.node.style.backgroundImage = 'url(./img/field-bg.jpg)';\n        document.querySelector('.score').style.display = 'inline-block';\n        addPlayer();\n        showPlayerMessage('HI! <br>' +\n            'Let\\'s start learning! <br> Press any key to start. ;)', true);\n        setTimeout(() => {\n            showLevel(1);\n        }, 1000);\n        document.removeEventListener('click', moveThumbByClick);\n        document.removeEventListener('click', go);\n        backButton.style.display = 'block';\n    }, 230);\n};\n\nconst addSlider = function () {\n    const slider = document.createElement('div');\n    slider.classList.add('slider');\n    const thumb = document.createElement('div');\n    thumb.classList.add('thumb');\n    field.node.appendChild(slider);\n    slider.appendChild(thumb);\n\n    let p = document.createElement('p');\n    p.classList.add('slider-legend');\n    p.textContent = 'Game speed';\n    p.style.cursor = 'default';\n    field.node.appendChild(p);\n    p.style.bottom = '15px';\n\n    p = document.createElement('p');\n    p.classList.add('slider-legend', 'data-lower');\n    p.textContent = 'lower';\n    field.node.appendChild(p);\n    p.style.fontSize = '15px';\n    p.style.width = '62px';\n    p.style.left = '31.2%';\n    p.style.bottom = '49px';\n\n    p = document.createElement('p');\n    p.classList.add('slider-legend', 'data-faster');\n    p.textContent = 'faster';\n    field.node.appendChild(p);\n    p.style.fontSize = '15px';\n    p.style.width = '68px';\n    p.style.left = '62.5%';\n    p.style.bottom = '49px';\n\n    const div = document.createElement('div');\n    slider.appendChild(div);\n    div.style.height = '20px';\n    div.style.border = '1px solid #25196C';\n    div.style.position = 'absolute';\n    div.style.top = '-2px';\n    div.style.left = 'calc(50% - 1px)';\n\n    thumb.addEventListener('dragstart', () => false);\n    document.addEventListener('mousedown', changeSpeed);\n    document.addEventListener('click', moveThumbByClick);\n};\n\nconst changeSpeed = function (event) {\n    const target = event.target;\n    if (!target.classList.contains('thumb')) {\n        return;\n    }\n\n    const rect = target.getBoundingClientRect();\n    const coords = {\n        top: rect.top + pageYOffset,\n        left: rect.left + pageXOffset,\n    };\n    const shiftX = event.pageX - coords.left;\n    const shiftY = event.pageY - coords.top;\n\n    const parentRect = document\n                            .querySelector('.slider')\n                            .getBoundingClientRect();\n\n    function moveThumb(e) {\n        if (e.pageX - shiftX >= parentRect.left &&\n        e.pageX - shiftX <= parentRect.right - target.offsetWidth) {\n            target.style.left = `${e.pageX - shiftX}px`;\n        }\n    }\n\n    function drop() {\n        const left = target.style.left;\n        const parentWidth = parentRect.right - parentRect.left;\n        if (parseInt(left, 10) > parentRect.left &&\n            parseInt(left, 10) <= parentRect.left + (parentWidth / 2) - 50) {\n            target.style.left = `${parentRect.left}px`;\n        } else\n        if (parseInt(left, 10) > (parentRect.left + (parentWidth / 2) - 50) &&\n            parseInt(left, 10) <= (parentRect.left + (parentWidth / 2) + 50)) {\n            const l = parentRect.left + (parentWidth / 2) -\n                        (target.offsetWidth / 2);\n            target.style.left = `${l}px`;\n        } else\n        if (parseInt(left, 10) > parentRect.left + (parentWidth / 2) + 50) {\n            target.style.left = `${parentRect.right - target.offsetWidth}px`;\n        }\n\n        const coordsThumb = target.getBoundingClientRect();\n        document.querySelector('.slider').appendChild(target);\n        target.style.top = `${coordsThumb.top - parentRect.top}px`;\n        target.style.left = `${coordsThumb.left - parentRect.left}px`;\n\n        document.removeEventListener('mousemove', moveThumb);\n        document.removeEventListener('mouseup', drop);\n    }\n\n    document.body.appendChild(target);\n    target.style.top = `${event.pageY - shiftY}px`;\n    moveThumb(event);\n\n    document.addEventListener('mousemove', moveThumb);\n    document.addEventListener('mouseup', drop);\n};\n\nconst moveThumbByClick = function (e) {\n    if (!e.target.closest('.slider') &&\n            !e.target.classList.contains('data-lower') &&\n                !e.target.classList.contains('data-faster')) {\n        return;\n    }\n\n    const thumb = document.querySelector('.thumb');\n    const rect = thumb.getBoundingClientRect();\n    const coords = {\n        top: rect.top + pageYOffset,\n        left: rect.left + pageXOffset,\n    };\n    document.body.appendChild(thumb);\n    thumb.style.top = `${coords.top}px`;\n    thumb.style.left = `${coords.left}px`;\n    const parentRect = document\n                        .querySelector('.slider')\n                        .getBoundingClientRect();\n    const parentWidth = parentRect.right - parentRect.left;\n    const thumbWidth = thumb.offsetWidth;\n    const l = parentRect.left + (parentWidth / 2) - (thumbWidth / 2);\n\n    if (e.target.closest('.slider')) {\n        if (e.pageX > parentRect.left + (parentWidth / 2) - 20 &&\n                e.pageX < parentRect.left + (parentWidth / 2) + 20) {\n            thumb.style.left = `${l}px`;\n        } else\n        if (e.pageX > parentRect.left && e.pageX < parentRect.left + 20) {\n            thumb.style.left = `${parentRect.left}px`;\n        } else\n        if (e.pageX > parentRect.right - 20 && e.pageX < parentRect.right) {\n            thumb.style.left = `${parentRect.right - thumbWidth}px`;\n        }\n    } else\n    if (e.target.classList.contains('data-lower')) {\n        if (coords.left === l || coords.left === parentRect.left) {\n            thumb.style.left = `${parentRect.left}px`;\n        } else\n        if (coords.left === parentRect.right - thumbWidth) {\n            thumb.style.left = `${l}px`;\n        }\n    } else\n    if (e.target.classList.contains('data-faster')) {\n        if (coords.left === l ||\n            coords.left === parentRect.right - thumbWidth) {\n            thumb.style.left = `${parentRect.right - thumbWidth}px`;\n        } else\n        if (coords.left === parentRect.left) {\n            thumb.style.left = `${l}px`;\n        }\n    }\n\n    const coordsThumb = thumb.getBoundingClientRect();\n    document.querySelector('.slider').appendChild(thumb);\n    thumb.style.top = `${coordsThumb.top - parentRect.top}px`;\n    thumb.style.left = `${coordsThumb.left - parentRect.left}px`;\n};\n\nexport {\n    startGame,\n    chooseOperation,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/gamestart.js","import { field, player, level, scoreField, backButton } from './values';\nimport { delPlayerMessage } from '../objects/player';\nimport { chooseOperation } from './gamestart';\nimport { score } from '../objects/score';\n\nconst gameOver = function (back) {\n    delPlayerMessage(false);\n    setTimeout((backBut) => {\n        player.style.display = 'none';\n        player.style.transform = `translate(0px, 0px) scale(1, 1)`;\n        scoreField.style.display = 'none';\n        if (!backBut) {\n            const p = document.createElement('p');\n            p.classList.add('level');\n            p.innerHTML = 'GAME OVER';\n            field.node.appendChild(p);\n            p.style.font = '900 70px Kabel';\n            p.style.top = `${p.offsetTop - 100}px`;\n            p.style.cursor = 'default';\n\n            const restart = document.createElement('div');\n            restart.classList.add('restart');\n            restart.textContent = 'Press to restart';\n            field.node.appendChild(restart);\n            restart.addEventListener('click', restartGame);\n        } else {\n            const lvl = document.querySelector('.level');\n            if (lvl) {\n                field.node.removeChild(lvl);\n            }\n            backButton.classList.remove('animated', 'bounceOut');\n            backButton.style.display = 'none';\n            field.node.style.backgroundImage = '';\n            score.curScore = 0;\n            level.num = 1;\n            scoreField.textContent = '000';\n            chooseOperation();\n        }\n    }, 200, back);\n};\n\nconst restartGame = function (e) {\n    if (!e.target.classList.contains('restart')) {\n        return;\n    }\n\n    field.node.removeChild(e.target);\n    field.node.removeChild(document.querySelector('.level'));\n    field.node.style.backgroundImage = '';\n    chooseOperation();\n};\n\nexport default gameOver;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/gameover.js","import { field, startGameBut, wikiBut, backButton } from './values';\n\nlet count = 0;\nlet image = null;\nlet rightArr = null;\nlet leftArr = null;\nlet page = null;\n\nconst showWiki = function (target) {\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        target.classList.remove('animated', 'bounceOut');\n        wikiBut.hidden = true;\n        startGameBut.hidden = true;\n        document.getElementById('math').hidden = true;\n        renderWiki();\n    }, 230);\n};\n\nconst renderWiki = function () {\n    image = document.createElement('div');\n    image.classList.add('wiki-image');\n    field.node.appendChild(image);\n    image.style.width = `${field.node.clientWidth * 0.84}px`;\n    image.style.height = `${field.node.clientHeight * 0.85}px`;\n    image.style.backgroundImage = `url(./img/wiki/choose.png)`;\n    image.style.backgroundSize = '701.5% 100%';\n\n    leftArr = document.createElement('div');\n    leftArr.classList.add('arrow-left');\n    field.node.appendChild(leftArr);\n\n    rightArr = document.createElement('div');\n    rightArr.classList.add('arrow-right');\n    field.node.appendChild(rightArr);\n\n    page = document.createElement('p');\n    page.style.font = '400 22px Kabel';\n    page.style.color = '#25196C';\n    page.innerHTML = `${count + 1}/7`;\n    field.node.appendChild(page);\n    page.style.position = 'absolute';\n    page.style.left = 'calc(50% - 20px)';\n    page.style.bottom = '37px';\n\n    const button = backButton.cloneNode(true);\n    field.node.appendChild(button);\n    button.style.top = '90%';\n    button.style.display = 'block';\n\n    document.addEventListener('click', changePage);\n    document.addEventListener('click', backToStart);\n\n    window.addEventListener('resize', resizeImage);\n};\n\nconst changePage = function (e) {\n    const target = e.target;\n    if (!(target === rightArr) && !(target === leftArr)) {\n        return;\n    }\n\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        target.classList.remove('animated', 'bounceOut');\n    }, 200);\n\n    if (target === rightArr) {\n        if (count < 6) {\n            count++;\n        }\n    } else\n    if (count) {\n        count--;\n    }\n\n    image.style\n      .backgroundPosition = `${-parseInt(image.style.width, 10) * count}px 0px`;\n    page.innerHTML = `${count + 1}/7`;\n};\n\nconst backToStart = function (e) {\n    const target = e.target.closest('.back-to-operation');\n    if (!target) {\n        return;\n    }\n\n    target.classList.add('animated', 'bounceOut');\n    setTimeout(() => {\n        window.removeEventListener('resize', resizeImage);\n        field.node.removeChild(image);\n        field.node.removeChild(leftArr);\n        field.node.removeChild(rightArr);\n        field.node.removeChild(page);\n        field.node.removeChild(target);\n        image = null;\n        leftArr = null;\n        rightArr = null;\n        wikiBut.hidden = false;\n        startGameBut.hidden = false;\n        document.getElementById('math').hidden = false;\n    }, 200);\n\n    document.removeEventListener('click', changePage);\n    document.removeEventListener('click', backToStart);\n    window.removeEventListener('resize', resizeImage);\n};\n\nconst resizeImage = function () {\n    const imageToResize = document.querySelector('.wiki-image');\n    imageToResize.style.width = `${field.node.clientWidth * 0.84}px`;\n    imageToResize.style.height = `${field.node.clientHeight * 0.85}px`;\n};\n\nexport default showWiki;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/wiki.js","import {\n    field, exampleField, patrick, player, speed, sound\n} from '../game/values';\nimport { playerCoords, showPlayerMessage } from './player';\nimport { changeScore, endOfGame } from './score';\n\nconst balloons = [];\nlet ballHeight = null;\nlet bottomBorder = null;\nlet down = 0;\nconst ballOnField = { on: false };\nlet selectedBall = null;\nconst mix = [\n    0, -12, 11, 0, -11, 0, -9, 0, 12,\n    0, -8, 0, 13, 9, 0, -12, 0, 8, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nconst createBalloons = function (answers) {\n    const n = 3;\n    if (!field.node.querySelector('.balloon')) {\n        for (let i = 0; i < n; i++) {\n            balloons[i] = {};\n            balloons[i].elem = document.createElement('div');\n            balloons[i].elem.classList.add('balloon');\n            balloons[i].elem.textContent = answers[i];\n        }\n\n        selectedBall = null;\n        animateBalloons();\n    }\n};\n\nconst animateBalloons = function () {\n    if (!ballOnField.on && !down && !selectedBall) {\n        addBalloons();\n    }\n\n    if (down <= bottomBorder && balloons[0]) {\n        const goPx = [];\n        for (let i = 0; i < 12; i++) {\n            if (i % 5) {\n                goPx[i] = speed.speed;\n            } else {\n                goPx[i] = speed.speed - 1;\n            }\n        }\n\n        const index = Math.round(Math.random() * 11);\n        down += goPx[index];\n\n        for (let i = 0; i < balloons.length; i++) {\n            const angle = balloons[i].angle;\n            if (angle === balloons[i].moveTo) {\n                const ind = Math.round(Math.random() * 27);\n                balloons[i].moveTo += mix[ind];\n                if (balloons[i].moveTo > 30) {\n                    balloons[i].moveTo -= Math.abs(mix[ind]);\n                } else\n                if (balloons[i].moveTo < -30) {\n                    balloons[i].moveTo += Math.abs(mix[ind]);\n                }\n            } else {\n                balloons[i].angle += (balloons[i].moveTo - angle) /\n                                    Math.abs(balloons[i].moveTo - angle);\n            }\n\n            balloons[i].elem.style.transform = `translate(0, ${down}px)` +\n                                                `rotate(${angle}deg)`;\n        }\n\n        if (down + ballHeight >= playerCoords.top - (field.height * 0.25)) {\n            let select = null;\n            for (let i = 0; i < balloons.length; i++) {\n                select = playerChooseBall({\n                        width: playerCoords.width,\n                        height: playerCoords.height,\n                        top: playerCoords.top,\n                        left: playerCoords.left,\n                    }, {\n                        width: balloons[i].width,\n                        height: balloons[i].height,\n                        top: balloons[i].top + down,\n                        left: balloons[i].left,\n                    });\n                if (select) {\n                    selectedBall = balloons[i];\n                    removeBalloons(selectedBall);\n                    select = null;\n                    break;\n                }\n            }\n        }\n    } else\n    if (ballOnField.on) {\n        ballOnField.on = false;\n        removeBalloons();\n    }\n};\n\nconst addBalloons = function () {\n    let minTop = field.height;\n    const ballColors = [];\n    for (let i = 0; i < balloons.length; i++) {\n        field.node.appendChild(balloons[i].elem);\n\n        let flag = false;\n        let color = null;\n        while (!flag) {\n            color = Math.round(Math.random() * 8);\n            if (!(ballColors.includes(color))) {\n                flag = true;\n                ballColors.push(color);\n            }\n        }\n        balloons[i].elem.style.backgroundPosition = `${75 * color}px 0px`;\n\n        balloons[i].width = balloons[i].elem.offsetWidth;\n        balloons[i].height = balloons[i].elem.offsetHeight;\n        balloons[i].top = (Math.random() * 55) + 45;\n        balloons[i].left = Math.random() * (field.width - balloons[i].width);\n        balloons[i].angle = 0;\n        balloons[i].moveTo = balloons[i].angle;\n\n        balloons[i].elem.style.top = `${balloons[i].top}px`;\n        let j = 0;\n        while (j < i) {\n            let mark = false;\n            while (Math.abs(balloons[j].left - balloons[i].left) < 100) {\n                balloons[i].left = Math.random() *\n                                    (field.width - balloons[i].width);\n                mark = true;\n            }\n            j++;\n            if (mark) {\n                j = 0;\n            }\n        }\n\n        balloons[i].elem.style.left = `${balloons[i].left}px`;\n        if (minTop > balloons[i].top) {\n            minTop = balloons[i].top;\n        }\n    }\n\n    bottomBorder = field.height - minTop;\n    ballHeight = balloons[0].elem.offsetHeight;\n    ballOnField.on = true;\n    document.addEventListener('click', selectBalloon);\n};\n\nconst selectBalloon = function (e) {\n    const target = e.target;\n    selectedBall = true;\n    for (let i = 0; i < balloons.length; i++) {\n        if (balloons[i].elem === target) {\n            removeBalloons(balloons[i]);\n            break;\n        }\n    }\n    e.stopPropagation();\n};\n\nconst playerChooseBall = function (rect1, rect2) {\n    const center1 = {\n        x: rect1.left + (rect1.width / 2),\n        y: rect1.top + (rect1.height / 2),\n    };\n    const center2 = {\n        x: rect2.left + (rect2.width / 2),\n        y: rect2.top + (rect2.height / 2),\n    };\n\n    const distX = Math.abs(center2.x - center1.x);\n    const distY = Math.abs(center2.y - center1.y);\n    if (rect1.top - rect2.top < ballHeight * 0.65) {\n        if (distX < ((rect1.width + rect2.width) / 2) - 5 &&\n                distY < ((rect1.height + rect2.height) / 2) - 5) {\n            return true;\n        }\n        return false;\n    }\n};\n\nconst removeBalloons = function (selectBall) {\n    const num = parseInt(balloons[0].elem.innerHTML, 10);\n    for (let i = 0; i < balloons.length; i++) {\n        if (selectBall && balloons[i] === selectBall) {\n            if (sound.on) {\n                const audio = new Audio('./audio/balloon-pop.ogg');\n                audio.play();\n            }\n            checkSelection(selectBall, num);\n        }\n        field.node.removeChild(balloons[i].elem);\n        balloons[i] = null;\n    }\n\n    if (!selectBall) {\n        checkSelection();\n    }\n\n    bottomBorder = null;\n    down = 0;\n    ballOnField.on = false;\n    document.removeEventListener('click', selectBalloon);\n    setTimeout(() => {\n        patrick.style.backgroundPosition = '0px 0px';\n        exampleField.style.display = 'none';\n        patrick.style.display = 'none';\n    }, 1000);\n};\n\nconst checkSelection = function (selectBall, num) {\n    if (selectBall === balloons[0]) {\n        explode(selectBall, 0);\n        changeScore(100);\n        player.style.backgroundPosition = '-200px 0px';\n        patrick.style.backgroundPosition = '-80px 0px';\n        setTimeout(() => {\n            showPlayerMessage('You\\'re genius! :)', true);\n            player.style.backgroundPosition = '0px 0px';\n        }, 1000);\n    } else {\n        if (selectBall) {\n            explode(selectBall, 1);\n        }\n        changeScore(-50);\n        player.style.backgroundPosition = '-300px 0px';\n        patrick.style.backgroundPosition = '-160px 0px';\n        if (!endOfGame.end) {\n            if (selectBall) {\n                setTimeout(() => {\n                    showPlayerMessage(`Think better! <br> It's `, true, num);\n                    player.style.backgroundPosition = '0px 0px';\n                }, 1000);\n            } else {\n                setTimeout(() => {\n                    showPlayerMessage('Hurry up, my Friend!', true, num);\n                    player.style.backgroundPosition = '0px 0px';\n                }, 1000);\n            }\n        } else {\n            setTimeout(() => {\n                showPlayerMessage('OH! NO!', false);\n            }, 1000);\n        }\n    }\n};\n\nconst explode = function (selectBall, offset) {\n    const explosion = document.createElement('div');\n    explosion.classList.add('explosion', 'animated', 'zoomIn');\n    explosion.style.backgroundPosition = `${256 * offset}px 0px`;\n\n    const top = selectBall.top + down - 100;\n    const left = selectBall.left - 90;\n\n    if (left < 0) {\n        explosion.style.left = 0;\n    } else\n    if (left + 256 > field.width) {\n        explosion.style.left = `${field.width - 256}px`;\n    } else {\n        explosion.style.left = `${left}px`;\n    }\n\n    if (top + 256 > field.height) {\n        explosion.style.top = `${field.height - 256}px`;\n    } else\n    if (top < 0) {\n        explosion.style.top = 0;\n    } else {\n        explosion.style.top = `${top}px`;\n    }\n\n    field.node.appendChild(explosion);\n    setTimeout(() => {\n        field.node.removeChild(explosion);\n    }, 1200);\n};\n\nexport {\n    createBalloons,\n    balloons,\n    ballOnField,\n    animateBalloons,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/balloons.js","import { exampleField, operation, level } from '../game/values';\n\nlet exampleInField = false;\nlet answers = [];\n\nconst startExample = function () {\n    const style = getComputedStyle(exampleField);\n    if (style.display !== 'none') {\n        if (!exampleInField) {\n            showExample();\n            return answers;\n        }\n    } else {\n        exampleInField = false;\n    }\n};\n\nconst showExample = function () {\n    const n = 2;\n    let example = '';\n    let max = 10 * level.num;\n    if (level.num > 5) {\n        max = 10 * 5;\n    }\n\n    function sorting(a, b) {\n        if (a > b) {\n            return 1;\n        }\n        return -1;\n    }\n\n    function generateNum(m, answer) {\n        const rand = Math.random();\n        return Math.abs(Math.min(\n                Math.round((rand * (2 * m)) - m), Math.round(rand * answer)));\n    }\n\n    function generator(sign) {\n        const operands = [];\n        let answer = 0;\n        switch (sign) {\n            case '+': {\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round(Math.random() * max);\n                }\n                example = `${operands[0]} + ${operands[1]} = ...`;\n                answer = operands[0] + operands[1];\n                break;\n            }\n            case '-': {\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round(Math.random() * max);\n                }\n                operands.sort(sorting);\n                example = `${operands[1]} - ${operands[0]} = ...`;\n                answer = operands[1] - operands[0];\n                break;\n            }\n            case '*': {\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round((Math.random() * max) + 1);\n                    max = Math.floor(100 / operands[i]) - 1;\n                }\n                example = `${operands[0]} &#215 ${operands[1]} = ...`;\n                answer = operands[0] * operands[1];\n                break;\n            }\n            case '/': {\n                max *= 2;\n                for (let i = 0; i < n; i++) {\n                    operands[i] = Math.round((Math.random() * max) + i);\n                    max = operands[i] / 2;\n                }\n                if (operands[0] % operands[1]) {\n                    operands[0] = operands[1] *\n                                    Math.round(operands[0] / operands[1]);\n                }\n                example = `${operands[0]} &#247 ${operands[1]} = ...`;\n                answer = operands[0] / operands[1];\n                break;\n            }\n            default:\n                break;\n        }\n\n        return [\n            answer,\n            answer + generateNum(10, answer),\n            answer + generateNum(10, answer),\n        ];\n    }\n\n    if (operation.sign.length === 1) {\n        answers = generator(operation.sign);\n    } else {\n        answers = generator(operation.sign[Math.round(Math.random() * 3)]);\n    }\n\n    for (let i = 0; i < answers.length; i++) {\n        for (let j = i + 1; j < answers.length; j++) {\n            if (answers[i] === answers[j]) {\n                answers[j]++;\n            }\n        }\n    }\n\n    exampleField.innerHTML = example;\n    exampleInField = true;\n};\n\nexport {\n    exampleField,\n    startExample,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/objects/examples.js","import { startGame } from './gamestart';\nimport {\n    showPlayerMessage, jumpHeight, playerJump,\n} from '../objects/player';\nimport { startExample } from '../objects/examples';\nimport { score, endOfGame, count, changeScore } from '../objects/score';\nimport {\n    startGameBut, wikiBut, field, showLevel, level, player, backButton, sound,\n} from './values';\nimport {\n    createBalloons, ballOnField, animateBalloons,\n} from '../objects/balloons';\nimport gameOver from './gameover';\nimport showWiki from './wiki';\n\n\nlet audio = null;\n\nconst mainFunc = function main() {\n    if (!endOfGame.end) {\n        render();\n\n        const answers = startExample();\n        if (answers) {\n            setTimeout(() => {\n                createBalloons(answers);\n            }, 3000);\n        }\n\n        if (score.curScore && Math.floor(score.curScore / 1000) === level.num) {\n            levelUp();\n        }\n    } else {\n        endOfGame.end = false;\n        setTimeout(gameOver, 2000);\n    }\n\n    requestAnimationFrame(main);\n};\n\nconst levelUp = function () {\n    level.num = Math.floor(score.curScore / 1000) + 1;\n    showLevel(level.num);\n    player.style.backgroundPosition = '-400px 0px';\n    showPlayerMessage('HEY-HEY! <br> Wonderfu-u-ul! <br> Level UP!');\n};\n\nconst render = function () {\n    if (jumpHeight.height) {\n        playerJump();\n    }\n\n    if (ballOnField.on) {\n        animateBalloons();\n    }\n\n    if (count.left) {\n        changeScore();\n    }\n};\n\nconst backFunc = function () {\n    backButton.classList.add('animated', 'bounceOut');\n    gameOver(true);\n};\n\nconst loadImgAudio = function () {\n    const sources = [\n        './img/kids-math-game.jpg',\n        './img/wiki/choose.png',\n        './img/field-bg.jpg',\n        './img/Spongebob.png',\n        './img/Patrick.png',\n        './img/explosion.png',\n        './img/balloons.png',\n    ];\n\n    const div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.top = 0;\n    div.style.left = 0;\n    div.style.visibility = 'hidden';\n    document.body.appendChild(div);\n    div.innerHTML = `<img src=\"${sources.join('\" /><img src=\"')}\" />`;\n    const lastImg = div.lastChild;\n    lastImg.onload = () => { document.body.removeChild(div); };\n\n    if (!audio && document.getElementById('audio')) {\n        audio = document.getElementById('audio');\n        document.forms[0].style.marginLeft = `calc(50% + ` +\n                                                `${(field.width / 2) - 60}px)`;\n        document.forms[0].style.display = 'block';\n        document.forms[0].elements[0].addEventListener('change', mute);\n    }\n};\n\nconst mute = function (e) {\n    if (e.target.checked) {\n        audio.play();\n        sound.on = true;\n    } else {\n        audio.pause();\n        sound.on = false;\n    }\n};\n\nconst start = function (e) {\n    const target = e.target;\n    if (target === startGameBut) {\n        document.removeEventListener('click', start);\n        startGame(target);\n    } else\n    if (target === wikiBut) {\n        showWiki(target);\n    }\n\n    return false;\n};\n\ndocument.addEventListener('DOMContentLoaded', loadImgAudio);\ndocument.addEventListener('click', start);\nsetTimeout(() => {\n    startGameBut.classList.add('animated', 'pulse', 'infinite');\n}, 3500);\n\nbackButton.addEventListener('click', backFunc);\n\nmainFunc();\n\n\n\n\n// WEBPACK FOOTER //\n// ./modules/game/web_game.js"],"sourceRoot":""}